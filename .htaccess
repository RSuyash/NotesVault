# Temporary change to force re-upload
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Optional: Redirect HTTP to HTTPS (Uncomment if needed)
  # RewriteCond %{HTTPS} off
  # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # --- API Rule ---
  # Do not rewrite requests for the API directory
  RewriteRule ^api/ - [L]

  # --- React App Rule ---
  # If the request is for an existing file or directory, serve it directly
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Otherwise, rewrite the request to index.html for SPA routing
  RewriteRule ^ /index.html [L]

  # Note: Requests for existing files/directories (like /api/*, /notesvault/assets/*, /notesvault/logo.png)
  # will not match the RewriteCond conditions above and will be served directly by Apache.
  # The ^api/ rule above explicitly prevents API requests from being rewritten.

</IfModule>